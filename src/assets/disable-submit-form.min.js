$.fn.extend({_btn:':input[type="submit"]',disabled_button:function(){var a=$(this).find(this._btn),b=void 0!==a.data("enabled-text")&&""!==a.data("enabled-text")?a.data("enabled-text"):a.text();a.html(a.data("disabled-text")).attr("disabled","disabled").data("enabled-text",b)},enabled_button:function(){if(0<$(this).find(".has-error").length){var a=$(this).find(this._btn);a.removeAttr("disabled").html(a.data("enabled-text"))}}});
$.fn.disableForm=function(a){a=$.extend({disabled_text:"Processing"},a);var b=$(this).find(this._btn);$(this).addClass("disable-submit-buttons");b.data("disabled-text",a.disabled_text)};$("body").on("beforeValidate","form.disable-submit-buttons",function(a){$(this).disabled_button()}).on("afterValidate","form.disable-submit-buttons",function(a){$(this).enabled_button()});$(document).ajaxStart(function(){$("form.disable-submit-buttons").disabled_button()}).ajaxStop(function(){$("form.disable-submit-buttons").enabled_button()});